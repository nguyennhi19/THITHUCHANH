<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>

        const min = 10;
        const max = 90;

        //Thiết kế hàm generateArray(size) sinh ra mảng

        function generateArray(size, min, max) {
            let arr = [];
            for (let i = 0; i < size; i++) {
                arr[i] = Math.floor((Math.random() * (max - min + 1)) + min);
            }
            return arr;
        }


        //Thiết kế hàm printArray(arr) hiển thị giá trị các phần tử trong mảng
        function printArray(arr) {

            document.write(`${arr.join("-")}<br>`);
        }


        //Thiết kế hàm isPrime(number) kiểm tra số number có phải số nguyên tố hay không
        function isPrime(number) {
            let squareRoot = Math.floor(Math.sqrt(number));
            if (number == 2) {
                return true;
            } else {
                if (number > 2) {
                    for (let i = 2; i <= squareRoot; i++) {
                        if (number % i == 0) {
                            return false
                        }
                    }
                    return true;
                }
                else {
                    return false;
                }
            }
        }


        //Thiết kế hàm printPrime(arr) hiển thị các số nguyên tố trong mảng
        function printPrimes(arr) {
            let arrNew = [];
            let size = arr.length;
            for (let i = 0; i < size; i++) {
                if (isPrime(arr[i]) == true) {
                    arrNew.push(arr[i]);
                }
            }

            document.write(`Các số nguyên tố trong mảng là :${arrNew}<br>`);
        }


        // Thiết kế hàm sumPrime(arr) tính tổng các số nguyên tố
        function sumPrimes(arr) {
            let sum = 0;
            for (let number of arr) {
                if (isPrime(number) == true) {
                    sum += number;
                }
            }
            return sum;
        }


        //hàm main()
        function main() {
            let size = +prompt("Hãy nhập vào giá trị size");

            while (size <= 0) {

                size = +prompt("Hãy nhập lại giá trị size lớn hơn 0");
            }
            
            let arrNumber = generateArray(size, min, max);

            document.write(`${arrNumber} <br>`);

            printArray(arrNumber);
            printPrimes(arrNumber);

            document.write(`Tổng giá trị các số nguyên tố trong mảng là : ${sumPrimes(arrNumber)}`);
        }

        main();


    </script>
</body>

</html>